# Default values for banzai.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# Automatically manage worker count within the configured limits. More workers
# will be started when the CPU usage rises above the configured threshold.
horizontalPodAutoscaler:
  enabled: true
  minReplicas: 1
  maxReplicas: 4
  targetCPUUtilizationPercentage: 50

image:
  repository: docker.lco.global/banzai
  tag: latest
  pullPolicy: IfNotPresent

nodeSelector: {}

tolerations: []

affinity: {}

calibrateProposalId: calibrate

observationPortalUrl: http://internal-observation-portal.lco.gtn/api/observations/

apiRoot: "http://archiveapi-dev.dev/"

s3Bucket: archivetest2.lco.global

banzaiWorkerLogLevel: "debug"

rawDataFrameUrl: "http://archiveapi-internal.prod/frames"

ingesterProcessName: "banzai-dev"

noMetrics: true

opentsdbHostname: opentsdb.lco.gtn

bosunHostname: alerts.lco.gtn

fitsBroker: rabbitmq.lco.gtn

fitsExchange: archived_fits

queueName: banzai_dev_pipeline

useDockerizedDatabase: true

# cron job to periodically update instrument table in BANZAI DB
cronjob:
  schedule: "*/5 * * * *"

postgresql:
  hostname: "db.example.com"
  postgresqlUsername: "banzai"
  postgresqlDatabase: "banzai"
  existingSecret: "banzai-secrets"
  service:
    port: "5432"
  resources:
    requests:
      cpu: 200m
      memory: 256Mi
    limits:
      cpu: 1
      memory: 512Mi

useDockerizedRabbitMQ: true

rabbitmq:
  rabbitmq:
    username: "user"
    existingPasswordSecret: "banzai-secrets"
  vhost: ""
  resources:
    requests:
      cpu: 200m
      memory: 512Mi
    limits:
      cpu: 1
      memory: 1Gi


configdb_url: "http://configdb.lco.gtn/sites/"
